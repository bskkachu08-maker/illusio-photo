<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>＋ILLuSio パーツ追加ページ</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>＋ILLuSio パーツ追加</h1>
<form id="uploadForm">
<label>管理者パスワード:</label><br>
<input type="password" id="password" required><br><br>
<label>色カテゴリを選択:</label><br>
<select id="color">
<option value="赤">赤</option>
<option value="青">青</option>
<option value="緑">緑</option>
<option value="黄">黄</option>
<option value="白">白</option>
</select><br><br>
<label>パーツ画像を選択:</label><br>
<input type="file" id="photo" accept="image/*" required><br><br>
<button type="submit">アップロード</button>
</form>
<p id="message"></p>
<script>
   document.getElementById("uploadForm").addEventListener("submit", async (e) => {
     e.preventDefault();
     const password = document.getElementById("password").value;
     const color = document.getElementById("color").value;
     const file = document.getElementById("photo").files[0];
     const message = document.getElementById("message");
     if (password !== "Chipi053") {
       message.textContent = "❌ パスワードが違います";
       message.style.color = "red";
       return;
     }
     const formData = new FormData();
     formData.append("color", color);
     formData.append("photo", file);
     const res = await fetch("/upload", {
       method: "POST",
       body: formData,
     });
     if (res.ok) {
       message.textContent = `✅ ${color}パーツを追加しました`;
       message.style.color = "green";
     } else {
       message.textContent = "❌ アップロード失敗";
       message.style.color = "red";
     }
   });
</script>
</body>
</html>
